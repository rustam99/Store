"use strict";!function(){var t=locStorage.getProduct("temporary");if(".."==t.img.split("/")[1]){var e=t.img.split("/");e.splice(0,1),t.img=e.join("/")}var i=$(".Product__view__Box .Product__img"),o=$(".Product__price"),r=$(".Product__title"),a=$(".Product__box");o.text(t.price),a.attr("id",t.id),i.attr("src",t.img),r.text(t.name);var n=locStorage.getProduct("cart");if(n)for(var l=0;l<n.length;l++)n[l].id==t.id&&(n[l].quantity&&(o.text(parseInt(t.price)*parseInt(n[l].quantity)+"р"),$(".result__input").val(n[l].quantity)),$(".Product__btn").text("Удалить"))}();var AddedFlag=!0;ProductBtn.on("click",function(t){var e=$(t.target).closest(".Product__box"),i=e.attr("id"),o=e.find(".Product__view__Box .Product__img").attr("src"),r=e.find(".Product__price").text(),a=e.find(".result__input").val(),n={id:i,img:o,price:r,name:$(".Product__title").text(),quantity:a};AddedFlag?operationProduct(e,n,addProduct,"cart"):(locStorage.setProduct([n],"cart"),$(".Product__btn").text("Удалить"),AddedFlag=!0)});var ProductViewList=$(".Product__view__List"),ProductViewBox=$(".Product__view__Box").find("img");function getCurrentProductImg(t){if(t.hasClass("Product__img")){var e=t.parent(".Product__view__Item");if(null==t.parent(e).data().productactive){e.attr("data-productActive","");var i=t.attr("src");ProductViewBox.attr("src",i),e.siblings().removeAttr("data-productActive")}}}ProductViewList.on("click",function(t){getCurrentProductImg($(t.target))});for(var Colors={"Черный":"#585d61","Красный":"#b51616","Синий":"#0b19a6","Зеленый":"#1c880e","Желтый":"#bec41f"},CurrentColorBlock=$(".CurrentColor"),ColorList=$(".ColorList"),ColorCircles=$(".ColorCircle"),ColorNames=$(".ColorName"),ChooseElem=$(".ChooseElem"),i=0;i<ColorNames.length;i++)Colors.hasOwnProperty(ColorNames[i].innerText)&&(ColorCircles[i].style="background-color: "+Colors[ColorNames[i].innerText]);var CurrentColor=CurrentColorBlock.find(".ColorName")[0],CurrentColorCircle=CurrentColorBlock.find(".ColorCircle")[0];function SlideList(){ColorList.hasClass("ColorList--active")?ColorList.slideUp(function(){ColorList.removeClass("ColorList--active"),ColorList[0].style="",ChooseElem[0].style="",CurrentColorBlock[0].style="",CurrentColorBlock[0].style=""}):ColorList.slideDown(function(){ColorList.addClass("ColorList--active"),ColorList[0].style="",ChooseElem[0].style="border-top-color: #ff974e",CurrentColorBlock[0].style="border-color: #ff974e"})}function SetColor(t){var e=t.closest("li").find(".ColorName")[0].innerText;Colors.hasOwnProperty(e)&&(CurrentColor.innerText=e,CurrentColorCircle.style="background-color: "+Colors[e],ColorList.slideUp(function(){ColorList.removeClass("ColorList--active"),ColorList[0].style="",ChooseElem[0].style="",CurrentColorBlock[0].style=""}))}CurrentColorBlock.on("click",SlideList),ColorList.on("click",function(t){SetColor($(t.target))});var ProductQuantity=$(".Product__quantity"),QuantityResult=$(".result__input"),QuantityResultValue=QuantityResult.val(),ProductPrice=$(".Product__price"),StatickPrice=parseFloat(locStorage.getProduct("temporary").price),ProductPriceValue=parseFloat(ProductPrice.text());ProductQuantity.on("click",function(t){getCurrentPrice($(t.target))});var QuantityArr=[];function checkAddedProduct(){if("Удалить"===$(".Product__btn").text())return!0}function getCurrentPrice(t){QuantityArr.push(QuantityResultValue),(""===QuantityResult.val()||QuantityResultValue<=0)&&(QuantityArr.splice(QuantityArr.indexOf(""),1),QuantityResultValue=QuantityArr[0]),QuantityArr[0]=QuantityArr[QuantityArr.length-1],t.hasClass("minus")&&(--QuantityResultValue<=1&&(QuantityResultValue=1),1!=QuantityResultValue?ProductPrice.text(StatickPrice*QuantityResultValue+"р"):ProductPrice.text(ProductPriceValue+"р"),QuantityResult.val(QuantityResultValue),checkAddedProduct()&&($(".Product__btn").text("Добавить"),AddedFlag=!1)),t.hasClass("plus")&&(++QuantityResultValue>=10&&(QuantityResultValue=10),1!=QuantityResultValue?ProductPrice.text(StatickPrice*QuantityResultValue+"р"):ProductPrice.text(ProductPriceValue+"р"),QuantityResult.val(QuantityResultValue),checkAddedProduct()&&($(".Product__btn").text("Добавить"),AddedFlag=!1))}QuantityArr.push(parseInt(QuantityResult[0].value)),QuantityResult.on("keyup",function(t){var e=t.key;QuantityResultValue=parseFloat(QuantityResult.val()),QuantityArr.push(QuantityResultValue),QuantityResultValue>10&&(QuantityResultValue=10,QuantityResult.val(10)),(""===QuantityResult.val()||QuantityResultValue<=0)&&(QuantityArr.splice(QuantityArr.indexOf(""),1),QuantityResultValue=QuantityArr[0]),"+"!==e&&"-"!==e&&"."!==e||QuantityResult.val(QuantityArr[0]),isInteger(QuantityResultValue)||""===QuantityResult.val()||(QuantityResultValue=QuantityArr[0],QuantityArr[QuantityArr.length-1]=QuantityResultValue,QuantityResult.val(QuantityResultValue)),QuantityArr[0]=QuantityArr[QuantityArr.length-1],ProductPrice.text(StatickPrice*QuantityResultValue+"р"),checkAddedProduct()&&($(".Product__btn").text("Добавить"),AddedFlag=!1)});var MoreInforamtionBtn=$(".more"),AddInforamtion=$(".Product__configuration__Desc span"),InforamtionFlag=!0;AddInforamtion[0].clientHeight<126?MoreInforamtionBtn.css("display","none"):MoreInforamtionBtn.on("click",function(){InforamtionFlag?(InforamtionFlag=!1,AddInforamtion.css("max-height","800px"),MoreInforamtionBtn.text("Скрыть")):(MoreInforamtionBtn.text("Подробнее"),AddInforamtion.css("max-height","126px"),InforamtionFlag=!0)});var ProductAdditionalDescBlock=$(".Product__additionalDesc"),AdditionalDescTextBlock=$(".AdditionalDesc__text"),AmountReviewsBlock=$(".AmountReviews"),AmountReviews=2;AmountReviewsBlock.text("("+AmountReviews+")");var ProductAdditionalInit={Desc:function(){var t=document.createElement("span");t.classList.add("AdditionalDesc__text__Block"),t.innerText="asdasdaas",AdditionalDescTextBlock.append(t)},AddittionalDesc:function(){var t=document.createElement("span");t.classList.add("AdditionalDesc__text__Block"),t.innerText="asdasdaas",AdditionalDescTextBlock.append(t)},reviews:function(){var t=document.createElement("div"),e=document.createElement("div"),i=document.createElement("div"),o=document.createElement("span"),r=document.createElement("div"),a=new Date,n=a.getHours(),l=a.getMinutes(),u=document.createElement("div"),c=!0;l<10&&(l="0"+l),t.classList.add("Comment"),e.classList.add("Person"),i.classList.add("Like"),r.classList.add("Reviews"),o.classList.add("Time"),u.classList.add("Incriment"),e.innerText="Rustam",i.innerText="Нравится",r.innerText="asdasdasdasd",u.innerText="1",o.innerText=n+":"+l,e.append(u),e.append(i),e.append(o),AdditionalDescTextBlock.append(t),t.append(e),t.append(r),e.addEventListener("click",function(t){t.target.classList.contains("Like")&&(c?(c=!1,u.innerText=+u.innerText+1):(u.innerText="1",c=!0))})}};function ShowAdditionalDesc(t){if(t.hasClass("AdditionalDesc__title")&&!t.hasClass("AdditionalDesc__title--active"))if(t.addClass("AdditionalDesc__title--active").siblings().removeClass("AdditionalDesc__title--active"),"Описание"==t.text())AdditionalDescTextBlock.css("display","flex"),AdditionalDescTextBlock.empty(),ProductAdditionalInit.Desc(),ProductAdditionalInit.Desc();else if("Дополнительная информация"==t.text())AdditionalDescTextBlock.css("display","flex"),AdditionalDescTextBlock.empty(),ProductAdditionalInit.AddittionalDesc(),ProductAdditionalInit.AddittionalDesc();else{AdditionalDescTextBlock.css("display","block"),AdditionalDescTextBlock.empty();for(var e=0;e<AmountReviews;e++)ProductAdditionalInit.reviews()}}ProductAdditionalInit.Desc(),ProductAdditionalInit.Desc(),ProductAdditionalDescBlock.on("click",function(t){ShowAdditionalDesc($(t.target))});